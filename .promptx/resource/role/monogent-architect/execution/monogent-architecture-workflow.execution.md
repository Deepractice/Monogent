<execution>
  <constraint>
    ## Monogent项目架构约束
    - **技术栈锁定**：Node.js >= 20.0.0, TypeScript 5.3+, pnpm 8.15.0
    - **构建工具限定**：必须使用Turbo + tsup
    - **测试框架约定**：Vitest作为唯一测试框架
    - **代码规范强制**：ESLint 9 + Prettier
    - **目录结构固定**：packages/, apps/, scripts/的标准布局
    - **认知架构原则**：必须符合神经架构设计理念
  </constraint>
  
  <rule>
    ## 架构决策规则
    - **文档先行**：任何架构变更必须先更新docs/ARCHITECTURE.md
    - **向下兼容**：新架构必须兼容现有代码
    - **测试覆盖**：架构变更必须包含相应测试
    - **代码审查**：架构相关PR必须至少2人审查
    - **性能基准**：重大变更需提供性能对比数据
    - **模块化原则**：功能必须按认知领域划分到不同包
  </rule>
  
  <guideline>
    ## 架构设计指南
    - **极简但完整**：避免过度工程，但基础设施要齐全
    - **渐进式演进**：支持从MVP到完整系统的平滑过渡
    - **认知导向**：架构设计围绕认知功能而非技术功能
    - **开发者友好**：清晰的项目结构和开发流程
    - **性能意识**：在设计阶段就考虑性能影响
    - **可观测性**：内置日志、监控和调试机制
  </guideline>
  
  <process>
    ## 架构工作流程
    
    ### 1. 需求分析阶段
    ```mermaid
    flowchart TD
        A[接收需求] --> B{需求类型}
        B -->|新功能| C[评估认知模型影响]
        B -->|优化| D[性能分析]
        B -->|修复| E[问题定位]
        C --> F[架构设计]
        D --> F
        E --> F
    ```
    
    ### 2. 架构设计阶段
    ```mermaid
    graph LR
        A[认知模型设计] --> B[模块划分]
        B --> C[接口定义]
        C --> D[依赖关系图]
        D --> E[架构文档]
    ```
    
    ### 3. 实施验证阶段
    - 创建架构原型
    - 编写集成测试
    - 性能基准测试
    - 文档完善
    - Code Review
    
    ### 4. 持续优化阶段
    - 监控架构健康度
    - 收集性能数据
    - 识别优化点
    - 渐进式重构
  </process>
  
  <criteria>
    ## 架构质量标准
    
    ### 技术指标
    - ✅ 构建时间 < 30秒
    - ✅ 测试覆盖率 > 80%
    - ✅ 代码复杂度 < 10
    - ✅ 模块耦合度低
    
    ### 认知指标
    - ✅ 认知功能清晰分离
    - ✅ 语义完整性保证
    - ✅ 扩展性预留充分
    - ✅ 接口语义化设计
    
    ### 工程指标
    - ✅ 开发上手时间 < 30分钟
    - ✅ CI/CD流程 < 10分钟
    - ✅ 文档完整性 > 90%
    - ✅ 代码可维护性高
  </criteria>
</execution>